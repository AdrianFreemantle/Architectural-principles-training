@model IEnumerable<AsbaBank.Presentation.Mvc.ViewModels.AccountViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<table class="table table-striped">
    <tr>
        <th>
            Account Number
        </th>
        <th>
            Client
        </th>
        <th>
            Balance
        </th>
        <th>
            Status
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @item.AccountNumber
        </td>
        <td>
            @item.ClientName
        </td>
        <td>
            @item.Balance
        </td>
        <td>
            @item.Status
        </td>
        <td>
            @Html.ActionLink("Details", "Details", new { id=item.Id }) 
            
            @if(!item.Closed)
            {
                <span>
                    | @Html.ActionLink("Debit Account", "Debit", new { id=item.Id }) 
                    | @Html.ActionLink("Credit Account", "Credit", new { id=item.Id }) 
                    | @Html.ActionLink("Issue Bank Card", "IssueBankCard", new { id=item.Id }) 
                    | @Html.ActionLink("Close Account", "Close", new { id=item.Id })
                </span>
            }
        </td>
    </tr>
}

</table>
